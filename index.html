<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,700,900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="fonts/icomoon/style.css">

    <link rel="stylesheet" href="css/owl.carousel.min.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    
    <!-- Style -->
    <link rel="stylesheet" href="css/style.css">

    <title>Harvesting Rainwater - YI</title>
  </head>
  <body>
  

  <div class="content">
    
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 mr-auto">
          <div class="mb-5">
            <center>
              <img src="images/climate_change.jpeg" alt="Climate Change" height="300">
            
              <br><br><br>
            <h4>Powered By </h4> <br>
      
              <img src="images/Yi_CBE_Symbol-removebg-preview (1).png" alt="YI Logo" height="200">
            </center>
            <!-- <h3 class="text-white mb-4">YI - Harvesting Rainwater</h3> -->
            <!-- <p class="text-white">Rainwater harvesting is the collection and storage of rain, 
              rather than allowing it to run off. Rainwater is collected from terrace and redirected to a tank, 
              cistern, deep pit, aquifer, or a reservoir with percolation, so that it seeps down and restores the ground water. </p> -->
          </div>
          <div class="row">

            
            <!-- <div class="col-md-6">
              <h3 class="text-white h5 mb-3">London</h3>
              <ul class="list-unstyled mb-5">
                <li class="d-flex text-white mb-2">
                  <span class="mr-3"><span class="icon-map"></span></span> 34 Street Name, City Name Here, United States
                </li>
                <li class="d-flex text-white mb-2"><span class="mr-3"><span class="icon-phone"></span></span> +1 (222) 345 6789</li>
                <li class="d-flex text-white"><span class="mr-3"><span class="icon-envelope-o"></span></span> info@mywebsite.com </li>
              </ul>
            </div>
            <div class="col-md-6">
              <h3 class="text-white h5 mb-3">New York</h3>
              <ul class="list-unstyled mb-5">
                <li class="d-flex text-white mb-2">
                  <span class="mr-3"><span class="icon-map"></span></span> 34 Street Name, City Name Here, United States
                </li>
                <li class="d-flex text-white mb-2"><span class="mr-3"><span class="icon-phone"></span></span> +1 (222) 345 6789</li>
                <li class="d-flex text-white"><span class="mr-3"><span class="icon-envelope-o"></span></span> info@mywebsite.com </li>
              </ul>
            </div> -->
          </div>
        </div>

        <div class="col-lg-6">
          <div class="box">
            <h3 class="heading">Harvesting Rainwater </h3>
<p class="text-black" align="justify" >Rainwater harvesting is the collection and storage of rain, 
              rather than allowing it to run off. Rainwater is collected from terrace and redirected to a tank, 
              cistern, deep pit, aquifer, or a reservoir with percolation, so that it seeps down and restores the ground water. </p>


            <form class="mb-5" method="post" class="form" id="form_submit" >
              <div class="row">
                
                <div class="col-md-12 form-group">
                  <label for="username" class="col-form-label">Name</label>
                  <input  type="text" class="form-control" name="username" id="username">
                </div>
              </div>
              <div class="row">
                <div class="col-md-12 form-group">
                <label for="address" class="col-form-label">Address</label>
               
                <textarea class="form-control" type="text" id="address" name="address" cols="30" rows="7" required></textarea>
                </div>
                </div>
                <div class="row">
                  <div class="col-md-12 form-group">
                  <label for="height" class="col-form-label">Zones</label>
                  <div>
					
                    <select class="form-control" name="zones" id="zones">
                    <option disabled selected hidden>Enter your zone(optional)</option>
                    <option value="central">Central Zone</option>
                              <option value="north">North Zone</option>
                              <option value="south">South Zone</option>
                              <option value="west">West Zone</option>
                              <option value="east">East Zone</option>
                    </select>
                  </div>
                  </div>
                  </div>
                <div class="row">
                  <div class="col-md-12 form-group">
                  <label for="height" class="col-form-label">Length of roof top(in feet)</label>
                  <input id="height" name="ht" type="number" class="form-control"  required>
                  </div>
                  </div>
                  <div class="row">
                      <div class="col-md-12 form-group">
                      <label for="breadth" class="col-form-label">Breadth of roof top(in feet)</label>
                      <input id="breadth" name="bt" type="number" class="form-control" required>
                      </div>
                      </div>
                      <div class="row">
                        <div class="col-md-12 form-group">
                        <label for="height" class="col-form-label">Type of Building</label>
                        <div>
                
                          <select class="form-control" name="building" id="building">
                            <option disabled selected hidden>Type of building</option>
                            <option value="residential">Residential</option>
                            <option value="commercial">Commercial</option>
                            <option value="industrial">Industrial</option>
                            <option value="educational">Educational</option>
                            <option value="medical">Medical</option>
                            <option value="others">Others</option>
                  
                          </select>
                        </div>
                        </div>
                        </div>
                        <div class="row">
                          <div class="col-md-12 form-group">
                          <label for="height" class="col-form-label">Percentage of rainwater you harvest</label>
                          <div>
                  
                            <select class="form-control" name="percentage" id="percentage" required>
                              <option disabled selected hidden>Percentage of rainwater you harvest</option>
                                        <option value="0">0%</option>
                                        <option value="25">25%</option>
                                        <option value="50">50%</option>
                                        <option value="75">75%</option>
                                        <option value="100">100%</option>
                                    </select>
                          </div>
                          </div>
                          </div>
                          <div id="error_msg">
                            <div class="alert alert-warning alert-dismissible d-flex align-items-center fade show">
                              <i class="bi-exclamation-triangle-fill"></i>
                              <strong class="mx-2">Error!</strong> Select alteast one option
                              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                            </div>	
                          </div>

                          <div class="row">
                            <div class="col-md-12 form-group">   
                      
                                      <label for="options" name="all_options">If you harvest rainwater, what do you use it for</label>
                                     <br>
                               <br>
                               <div class="row">
                                 <div class="col-1">
                                          <label class="checkbox-label">
                                              <input type="checkbox" name="opt" value="I do not recharge ground water">
                                              <span class="checkbox-custom rectangular"></span>
                                              
                                          </label>
                                </div>
                                <br>
                                          <div class="col-md-8">I do not recharge ground water</div>
                                          </div>
                                <br>
                                <div class="row">
                                  <div class="col-1">
                                          <label class="checkbox-label">
                                              <input type="checkbox" name="opt" value="For human consumption">
                                              <span class="checkbox-custom rectangular"></span>
                                          </label>
                                </div>
                                          <div class="col-md-8">For human consumption</div>
                              </div>
                            <br>
                              <div class="row">
                                <div class="col-1">
                                          <label class="checkbox-label">
                                              <input type="checkbox" name="opt" value="To recharge ground water">
                                              <span class="checkbox-custom rectangular"></span>
                                          </label>
                                </div>
                                          <div class="col-md-8">To recharge ground water</div>
                                          </div>
                                <br>
                                <div class="row">
                                  <div class="col-1">
                                          <label class="checkbox-label">
                                              <input type="checkbox" name="opt" value="Others">
                                              <span class="checkbox-custom rectangular"></span>
                                          </label>
                                </div>
                                          <div class="col-md-8">Others
                                  
                                </div>
                                <div>
                                  
                                  <input id="text_fill" class="form-control" type="text" placeholder="Enter message">
                                  
                              
                                </div>
                                
                                </div>
                                     
                                  </div>
                            </div>
                                  

                      
              
              <div class="row">
                <div class="col-md-12">
                  <input type="submit" value="Submit" class="btn btn-block btn-primary rounded-0 py-2 px-4">
                  <span class="submitting"></span>
                </div>
              </div>
             
            </form>

            <div id="form-message-warning mt-4"></div> 
            <div id="form-message-success">
              Your message was sent, thank you!
            </div>
          </div>
        </div>
      </div>
  </div>
    
    

    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.validate.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/bundle.js"></script>
    <script>
      // $(".selection-2").select2({
      //   minimumResultsForSearch: 20,
      //   dropdownParent: $('#dropDownSelect1')
      // });
      document.getElementById("error_msg").hidden=true;
      document.getElementById("text_fill").hidden=true;
      var all_options=[];
      
     
      const precipitation=700;
      
       
     
      
      const doc = new GoogleSpreadsheet('1UkglUUocdSZs_bH3Ge0TkrLZ4a2UG6AZiafJVHFF6Yc');
  doc.useServiceAccountAuth({
      // env var values are copied from service account credentials generated by google
      // see "Authentication" section in docs for more info
      client_email:"sheet-service-account@pygsheets-344400.iam.gserviceaccount.com",
      private_key: "-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDaONHSdu7OodxP\n01Pq/5PqPOwLxXjjBzu1yqolL47nb802/DBzajHvF2RCl9yHZIsSCgp5mwzM+Uqh\ntWlIsb5aviQ7Mq7kwkQiwRjHF+VGADoJ8Ul9fwbW7YLHxH7x01jYl2EHOT9DSEBl\nOpG67kwC/Ne9O8nNfY+xinHirGu3J2leCOoAydN6GnJ3grHMlnl7t3zZrIpJTu0g\nRlOeroq1lkUHkJMe/K6Qu4zRW8hF6kCxp4bsAeoWxJYlhx0X5YjDKx6YMYSbgM9y\nSBooKS8xo4s1vs/2ddtZVVswhXGXVf67D/DuPYBF8pvrew1ZukXiDKnDM2zEcVdw\nBQOIJDLxAgMBAAECggEANQ5nhWJBQZ/87rOUzagCEItrYJlMgPY7QEHcCFp9xita\nm6nJJeaF6XmoeMBvb8O0RFiIn3RhMlzSFmsDBBejDnD4YiQ6fYf2BPUpzw4yQki/\n07cEhSyjPxJUH7nYm3clPNPhVV5H0VX5wiLxV5+kf311/p5QvFNw4lukwNXnAopx\nh0Cl7QLfKbaKFLSd9YmkvSENqnP3c/ITAuLhlC7mfzMpxW51YzzpQcXq4ub/QBLE\nAUn8DmW3K90T4T37zlh/LW+vxy/XA0am20yYv8f7EhTNSBBw7r0A3L2rYMwDrHPg\nFP9u63ftx+woVeEL5Qs47QiJhXW+sVNkRjYZUY0ROQKBgQD0OsqGOnbLKPEOZkb1\n0ywU3Cc+LlCmNzr0hQkE6iGoYjTlgdgo7DXWV1nla0EWF7//7Lma351F+lJLhuZx\nIVMj1eu+j9sx4hVHIXmXl0Y6KHcb8c0AlZyg+qG53UQLEnCthWn8XDCOZH4Jtcdo\nx25bSP3ZuNtEdQT3JIEdou4ZbwKBgQDkvSfgxpnJGlks4DAXdAH1NRRcbpoqUFOL\nykiDpIIsSxBBRqww+aPomcrYY0dLJWy75nnWcv77CVLWfMtTsJURo+g+iVLJDPAb\n9ypoiFPbdROjd4WSVvPniU0Hb1ldIQC/9Ng+fjYN704zYtNkuP+R6G8SpraPeHzF\nKlkzkLqJnwKBgQCAhc++A1YwY0M3iKsfAhnYgGJGXqkiTz4/HyM36t37dnLPtBzE\nrElImn88M8z0i1sGmtSxo6tn/+r+w+bQ8fCGkzST+7Al+Auqevs5wum6AUFs+zoe\nbJ0YOcyRutbr3LBfIC4+F2WWCVwqT/a4NPrmHus3gAgjZlFOnW804WDbEQKBgHrR\nSfk6CdbeK+WZlpjxNB/qWT1sMaDosoNLoPX2PeL0hwzVmp1NXYIGGdFoNR6XQLP/\ng4nvAxPdpLoAFdig5tmq7YeuimHjbYVGiGHKWWRrj5jlEzZJM/stUMveMNh9YP6w\nw++CKxn+VTnoJWNepfM9H26fT0Tnx+7B11WFr3M3AoGBAJVJ59gEbIzXOyMjihYu\n4+t4LMC5imYuVqV055G4U7g60yCsq3tjZrDLxocBOL6pLTW/D1fb9VPmoHE5+fYf\nbOmOhpbMpYocpFEmlH/3Ey99BKxe/IQB/9TArfrh8YnmRsCVjSuCWQ4DW/l5rpXM\nkKm8nHbP5BK+ojaUTqkxwWbb\n-----END PRIVATE KEY-----\n",
  
  });
      var checkbox = document.querySelectorAll("input[type=checkbox]");
      console.log(checkbox);
  
  for(var i=0;i<checkbox.length;i++){
      checkbox[i].addEventListener('change', dummy);
  }
  function dummy(e) {
    console.log(e.target.value,"Others");
    if (e.target.checked && e.target.value==="Others") {
      console.log("Checkbox is checked..");
    document.getElementById("text_fill").hidden=false;
        document.getElementById("text_fill").required=true;
    } 
    if(!e.target.checked && e.target.value==="Others"){
    document.getElementById("text_fill").hidden=true;
    document.getElementById("text_fill").required=false;
    }
  }
  const load=async function(){
          await doc.loadInfo();
          var sheet=doc.sheetsByIndex[0];
          console.log(sheet.rowCount);
      var name=document.getElementById("username").value;
      var zone = document.getElementById("zones").value;
      var height =document.getElementById("height").value;
      var breadth =document.getElementById("breadth").value;
      var building =document.getElementById("building").value;
      var percentage =document.getElementById("percentage").value;
      var address=document.getElementById("address").value;
      // var options =document.getElementByName("opt").value;
    var area=parseInt(height)*parseInt(breadth);
      var saving=area*0.09290304*precipitation*0.623;
    saving=Math.round(saving);
      var harvest="Yes";
      if(percentage===0){
          harvest="No";
      }
    localStorage.setItem("saving",saving);
    localStorage.setItem('percentage',percentage);
    const rows = await sheet.getRows();
    addRow = await sheet.addRow({ 'S.No':rows.length+1,'Date':new Date().toDateString(),'Name':name,
          'Type of Building-(Residential/Commercial/Others)':building,'Address':address,'Length(in feet)':height,'Width(in feet)':breadth,
          'Terrace area(In Sq.Ft)':area,'Terrace area (in Sq.M)':area*0.09290304,'Quantity of RainWater Collected (in Lits/ year)':saving,
          'Rainwater Harvesting Availability-Yes/No':harvest,'Options':all_options.toString()});
    window.location.href="show_result.html"
    
    
      
      
      
      
         
      }
      var sub=document.getElementById("form_submit");
  
      sub.addEventListener('submit',function(e){
              e.preventDefault();
        var count=0;
      
    for(var j=0;j<checkbox.length;j++) {
      if(checkbox[j].checked){
      count+=1;
      all_options.push(checkbox[j].value);
      
    };
    }
    if(count==0){
      console.log("Select 1 plss");
      document.getElementById("error_msg").hidden=false;
  
    }
    else{
    load();
    
  
    }
  
      })
  
    
  
     
      
  
      
          
    </script>
  </body>
</html>